(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-773813ee"],{"3c48":function(t,e,o){},"5fa3":function(t,e,o){"use strict";o.d(e,"a",(function(){return a})),o.d(e,"h",(function(){return s})),o.d(e,"g",(function(){return c})),o.d(e,"d",(function(){return i})),o.d(e,"f",(function(){return r})),o.d(e,"e",(function(){return l})),o.d(e,"b",(function(){return u})),o.d(e,"c",(function(){return d})),o.d(e,"i",(function(){return p}));var n=o("b775");function a(){return Object(n["a"])({url:"/img_test",method:"get"})}function s(){return Object(n["a"])({url:"/test",method:"get"})}function c(t){return Object(n["a"])({url:"/post_style",method:"post",data:t})}function i(t){return Object(n["a"])({url:"/img_plus",method:"post",data:t})}function r(t,e){return Object(n["a"])({url:"/img_waifu/"+e,method:"post",data:t})}function l(t,e){return Object(n["a"])({url:"/img_transtyle/"+e,method:"post",data:t})}function u(t){return Object(n["a"])({url:"/img_colorful",method:"post",data:t})}function d(t){return Object(n["a"])({url:"/img_definition",method:"post",data:t})}function p(t,e){return Object(n["a"])({url:"/txt_recognize/"+e,method:"post",data:t})}},"64fd":function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container"},[o("div",{staticClass:"upload-form"},[o("div",{staticClass:"upload-item"},[o("el-upload",{ref:"upload01",staticClass:"avatar-uploader",attrs:{"http-request":t.uploadFile,action:t.base_api+"/post_content","show-file-list":!1,"auto-upload":!0,multiple:!1,"before-upload":t.beforeContentUpload,"on-change":t.handleContentAccept}},[t.post_content?o("img",{staticClass:"avatar",attrs:{src:t.post_content}}):o("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),o("div",{staticClass:"upload-item"},[o("el-upload",{ref:"upload02",staticClass:"avatar-uploader",attrs:{"http-request":t.uploadFile,action:t.base_api+"/post_style","show-file-list":!1,"auto-upload":!0,multiple:!1,"before-upload":t.beforeStyleUpload,"on-change":t.handleStyleAccept}},[t.post_style?o("img",{staticClass:"avatar",attrs:{src:t.post_style}}):o("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)]),o("div",{staticClass:"button"},[o("el-button",{attrs:{type:"danger"},on:{click:t.cleanAll}},[t._v("清空")]),o("el-button",{attrs:{type:"primary"},on:{click:t.submitImg}},[t._v("转换")])],1),o("div",{staticClass:"block"},[o("el-image",{attrs:{src:t.src?t.src:t.base_api+"/img_test"}},[o("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[t._v(" 加载中"),o("span",{staticClass:"dot"},[t._v("...")])])])],1)])},a=[],s=(o("d3b7"),o("3ca3"),o("ddb0"),o("2b3d"),o("ba9f")),c=o("5fa3"),i={data:function(){return{base_api:"http://modderbug.cn:5004",src:"http://modderbug.cn:5004/img_test",imageUrl:"",post_style:"",post_content:"",filelist:"",formdata:"",countClick:0}},mounted:function(){this.formdata=new FormData},created:function(){},methods:{compressAccurately:s["compressAccurately"],compress:s["compress"],execFun:function(){var t=this;setInterval((function(){t.countClick+=1,console.log(t.countClick)}),1e3)},cleanAll:function(){this.$router.go(0)},initData:function(){var t=this;Object(c["a"])().then((function(e){t.src=URL.createObjectURL(e),console.log(URL.createObjectURL(e))}))},uploadFile:function(t){this.formdata.append("file",t.file)},handleContentAccept:function(t,e){this.post_content=URL.createObjectURL(t.raw)},handleStyleAccept:function(t,e){this.post_style=URL.createObjectURL(t.raw)},submitImg:function(){var t=this;this.$message.info("正在执行... 请稍后(大概需要10秒左右，服务器太垃圾了，属实抱歉)"),Object(c["g"])(this.formdata).then((function(e){t.src="data:image/jpeg;base64,"+e,t.$message.success("生成完成")})).catch((function(e){t.$message.error("服务器内存溢出了。估计你的图片太大了"),console.log(e)}))},beforeStyleUpload:function(t){console.log(t),console.log(t.size),new Promise((function(e,o){var n=t.size/1024/1024<.2;n&&e(t);var a=t.size;Object(s["compressAccurately"])(t,100).then((function(t){console.log(a,t.size),e(t)}))}))},beforeContentUpload:function(t){console.log(t),console.log(t.size),new Promise((function(e,o){var n=t.size/1024/1024<.5;n&&e(t);var a=t.size;Object(s["compressAccurately"])(t,500).then((function(t){console.log(a,t.size),e(t)}))}))}}},r=i,l=(o("b99b"),o("2877")),u=Object(l["a"])(r,n,a,!1,null,null,null);e["default"]=u.exports},b99b:function(t,e,o){"use strict";o("3c48")}}]);